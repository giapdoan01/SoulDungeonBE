import type { Presence } from '../presence/Presence.ts';
import type { MatchMakerDriver } from '../matchmaker/LocalDriver/LocalDriver.ts';
/**
 * Check if running under Colyseus Cloud environment.
 */
export declare function isColyseusCloud(): boolean;
/**
 * Determine whether Redis configuration should be used.
 * Returns true if:
 * - Running on a multi-core machine (> 1 CPU)
 * - Or REDIS_URI environment variable is set
 */
export declare function shouldUseRedisConfig(): boolean;
/**
 * Get the effective port for Colyseus Cloud.
 * On Colyseus Cloud, port 2567 is enforced, adjusted for NODE_APP_INSTANCE.
 *
 * @param requestedPort - The originally requested port
 * @returns The effective port number
 */
export declare function getCloudPort(requestedPort: number): number;
/**
 * Get the Unix socket path for Colyseus Cloud.
 *
 * @param port - The port number
 * @returns The socket path
 */
export declare function getCloudSocketPath(port: number): string;
/**
 * Check if a socket file is active and remove it if it's not.
 * Fixes "EADDRINUSE" issue when restarting the server.
 *
 * @param sockFilePath - Path to the socket file
 */
export declare function checkInactiveSocketFile(sockFilePath: string): Promise<boolean>;
export interface CloudConfig {
    driver: MatchMakerDriver;
    presence: Presence;
    publicAddress: string;
}
/**
 * Get cloud configuration for Colyseus Cloud environment.
 * Automatically initializes Redis driver/presence when appropriate.
 *
 * @param port - The port number the server is running on
 * @param currentDriver - Existing driver instance (if any)
 * @param currentPresence - Existing presence instance (if any)
 * @returns Cloud configuration or null if not applicable
 */
export declare function getCloudConfig(port: number, currentDriver?: MatchMakerDriver, currentPresence?: Presence): Promise<CloudConfig | null>;
